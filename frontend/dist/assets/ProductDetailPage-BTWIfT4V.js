import{c as w,k as R,u as W,r,o as E,q as D,b as M,j as e,L as n,m as v,A as F,h as O,d as l,p as q,H as B,s as p}from"./index-Cwv92vJa.js";import{C as H,a as z}from"./chevron-right-Bnng0sUX.js";import{T as G}from"./truck-DH0TG_jP.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=w("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=w("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),U=()=>{const{slug:u}=R(),o=W(),[s,k]=r.useState(null),[C,g]=r.useState(!0),[y,f]=r.useState(null),[i,d]=r.useState(1),[m,x]=r.useState(0),[c,h]=r.useState("description"),{addItem:S}=E(),{addItem:I,isInWishlist:j,removeItem:P}=D(),{isAuthenticated:$}=M();r.useEffect(()=>{(async()=>{g(!0),f(null);try{const t=await fetch(`http://localhost:3000/api/laptops/${u}`);if(!t.ok){if(t.status===404){o("/products",{replace:!0});return}throw new Error(`Failed to fetch product: ${t.statusText}`)}const N=await t.json();k(N),document.title=`${N.name} - TechWave`}catch(t){console.error("Error fetching product:",t),f("Failed to load product details.")}finally{g(!1)}})()},[u,o]);const T=()=>{s&&(S(s.id,i),l.success(`${s.name} added to cart!`))},A=()=>{if(s){if(!$){window.confirm("Please sign in to manage your wishlist. Would you like to sign in now?")&&o("/login",{state:{from:location.pathname}});return}j(s.id)?(P(s.id),l.success(`${s.name} removed from wishlist`)):(I(s.id),l.success(`${s.name} added to wishlist!`))}},b=a=>{s&&x(a==="prev"?t=>t===0?s.images.length-1:t-1:t=>t===s.images.length-1?0:t+1)},L=(s==null?void 0:s.price)||0;return C?e.jsx("div",{className:"min-h-screen flex items-center justify-center mt-16 md:mt-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y?e.jsx("div",{className:"min-h-screen flex items-center justify-center mt-16 md:mt-20",children:e.jsxs("div",{className:"text-center text-red-500",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Error Loading Product"}),e.jsx("p",{className:"text-gray-600 mb-6",children:y}),e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors",children:"Retry"})]})}):s?e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"pt-16 md:pt-20",children:[e.jsx("div",{className:"bg-gray-50 py-4",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("nav",{className:"text-sm",children:e.jsxs("ol",{className:"flex items-center space-x-2",children:[e.jsx("li",{children:e.jsx(n,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{children:e.jsx(n,{to:"/products",className:"text-gray-500 hover:text-gray-700",children:"Products"})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{children:e.jsx(n,{to:`/products?category=${s.categoryId.toLowerCase()}`,className:"text-gray-500 hover:text-gray-700",children:s.categoryId})}),e.jsx("li",{className:"text-gray-500",children:"/"}),e.jsx("li",{className:"text-gray-900 font-medium truncate",children:s.name})]})})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"relative bg-gray-100 rounded-xl overflow-hidden mb-4 aspect-[4/3]",children:[e.jsx(F,{mode:"wait",children:e.jsx(v.img,{src:s.images[m],alt:s.name,className:"w-full h-full object-contain",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},m)}),e.jsx("button",{onClick:()=>b("prev"),className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-white/80 backdrop-blur-sm hover:bg-white shadow-md transition-colors","aria-label":"Previous image",children:e.jsx(H,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{onClick:()=>b("next"),className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-white/80 backdrop-blur-sm hover:bg-white shadow-md transition-colors","aria-label":"Next image",children:e.jsx(z,{className:"w-5 h-5 text-gray-700"})})]}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:s.images.map((a,t)=>e.jsx("button",{onClick:()=>x(t),className:`relative rounded-lg overflow-hidden flex-shrink-0 border-2 ${m===t?"border-primary-600":"border-transparent"}`,children:e.jsx("img",{src:a,alt:`${s.name} thumbnail ${t+1}`,className:"w-16 h-16 object-cover"})},t))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Category ID: ",s.categoryId]}),e.jsx("h1",{className:"text-3xl font-bold mb-3",children:s.name}),e.jsx("p",{className:"text-gray-800 text-2xl font-bold mb-4",children:O(L)}),e.jsx("p",{className:"text-gray-600 mb-6",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex items-center border rounded-lg px-3 py-2",children:[e.jsx("button",{onClick:()=>d(a=>Math.max(1,a-1)),className:"text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:i<=1,children:"-"}),e.jsx("input",{type:"text",value:i,onChange:a=>{let t=Math.max(1,parseInt(a.target.value)||1);s&&t>s.stock&&(t=s.stock,l.warning(`Only ${s.stock} in stock.`)),d(t)},className:"w-12 text-center border-none focus:ring-0 px-0 bg-transparent text-lg font-medium"}),e.jsx("button",{onClick:()=>{s&&i<s.stock?d(a=>a+1):s&&i===s.stock&&l.warning(`Only ${s.stock} in stock.`)},className:"text-gray-600 hover:text-gray-800 disabled:opacity-50",disabled:i>=s.stock,children:"+"})]}),e.jsxs("button",{onClick:T,className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:s.stock===0,children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),s.stock===0?"Out of Stock":"Add to Cart"]}),e.jsx("button",{onClick:A,className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Add to wishlist",children:e.jsx(B,{className:`w-6 h-6 ${j(s.id)?"fill-red-500 text-red-500":"text-gray-600"}`})})]}),e.jsxs("div",{className:"text-gray-600 text-sm mb-6",children:[e.jsxs("p",{className:"mb-1",children:["Only ",s.stock," items left in stock"]}),e.jsx("p",{children:"Delivery: 3-5 business days"})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-gray-700 mb-8",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(G,{className:"w-5 h-5 mr-2"})," Free Shipping"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(V,{className:"w-5 h-5 mr-2"})," 2-Year Warranty"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"})," 30-Day Returns"]})]}),e.jsx("div",{className:"border-b mb-6",children:e.jsxs("nav",{className:"flex -mb-px space-x-8",children:[e.jsx("button",{onClick:()=>h("description"),className:p("whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors",c==="description"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Description"}),e.jsx("button",{onClick:()=>h("specifications"),className:p("whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors",c==="specifications"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Specifications"}),e.jsx("button",{onClick:()=>h("reviews"),className:p("whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors",c==="reviews"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Reviews"})]})}),e.jsxs("div",{children:[c==="description"&&e.jsx("div",{children:e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:s.description})}),c==="specifications"&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-lg mb-4",children:"Technical Specifications"}),e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"Processor"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.processor})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"RAM"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.ram})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"Storage"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.storage})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"Display"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.display})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"Graphics"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.graphics})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("dt",{className:"font-medium text-gray-700",children:"Battery Life"}),e.jsx("dd",{className:"text-gray-900",children:s.specs.battery})]})]})]}),c==="reviews"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to review this product!"}),e.jsx("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-md font-medium hover:bg-primary-700 transition-colors",children:"Write a Review"})]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center mt-16 md:mt-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(n,{to:"/products",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors",children:"Browse All Products"})]})})};export{U as default};
