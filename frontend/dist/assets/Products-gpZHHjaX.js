import{c as j,r as a,x as T,d,j as e,m as q,S as B,L as C,h as H,y as L}from"./index-NqqZXcSm.js";import{F as Q}from"./filter-ClakQOCD.js";import{D as R}from"./download-cOwt-NZG.js";import{T as U}from"./trash-2-NopoqH9U.js";import{C as W,a as Z}from"./chevron-right-B--Hwfxe.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=j("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ee=()=>{const[N,b]=a.useState([]),[p,M]=a.useState(""),[F,w]=a.useState(!0),[r,m]=a.useState([]),[i,D]=a.useState("name"),[l,v]=a.useState("asc"),[c,k]=a.useState(1),[u]=a.useState(10);a.useEffect(()=>{document.title="Manage Products - TechWave Admin",y()},[]);const y=async()=>{try{w(!0);const s=await T();b(s)}catch{d.error("Failed to fetch products")}finally{w(!1)}},$=s=>{s.preventDefault();const t=N.filter(h=>h.name.toLowerCase().includes(p.toLowerCase())||h.description.toLowerCase().includes(p.toLowerCase()));b(t),k(1)},S=s=>{i===s?v(l==="asc"?"desc":"asc"):(D(s),v("asc"))},x=[...N].sort((s,t)=>i==="name"?l==="asc"?s.name.localeCompare(t.name):t.name.localeCompare(s.name):i==="price"?l==="asc"?s.price-t.price:t.price-s.price:l==="asc"?s.stock-t.stock:t.stock-s.stock),g=c*u,P=g-u,n=x.slice(P,g),o=Math.ceil(x.length/u),f=s=>{k(s)},A=s=>{m(t=>t.includes(s)?t.filter(h=>h!==s):[...t,s])},E=()=>{r.length===n.length?m([]):m(n.map(s=>s.id))},I=async()=>{if(r.length!==0)try{await Promise.all(r.map(s=>L(s))),await y(),m([]),d.success(`${r.length} products deleted successfully`)}catch{d.error("Failed to delete products")}},O=async s=>{try{await L(s),await y(),d.success("Product deleted successfully")}catch{d.error("Failed to delete product")}};return e.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Products"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("form",{onSubmit:$,className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:p,onChange:s=>M(s.target.value)}),e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),e.jsxs(C,{to:"/admin/products/new",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors whitespace-nowrap",children:[e.jsx(_,{className:"w-5 h-5 mr-2"}),"Add Product"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})}),F?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[r.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:r.length})," products selected"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-sm text-gray-700 hover:text-gray-900",children:"Edit Selected"}),e.jsx("button",{onClick:I,className:"text-sm text-red-600 hover:text-red-800",children:"Delete Selected"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left",children:e.jsx("label",{className:"inline-flex items-center",children:e.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:r.length===n.length&&n.length>0,onChange:E})})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>S("price"),children:e.jsxs("div",{className:"flex items-center",children:["Price",i==="price"&&e.jsx("span",{className:"ml-1",children:l==="asc"?"↑":"↓"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>S("stock"),children:e.jsxs("div",{className:"flex items-center",children:["Stock",i==="stock"&&e.jsx("span",{className:"ml-1",children:l==="asc"?"↑":"↓"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length>0?n.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("label",{className:"inline-flex items-center",children:e.jsx("input",{type:"checkbox",className:"rounded text-primary-600 focus:ring-primary-500 h-4 w-4",checked:r.includes(s.id),onChange:()=>A(s.id)})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded overflow-hidden",children:e.jsx("img",{src:s.images[0],alt:s.name,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.description.substring(0,50),"..."]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:H(s.price)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:s.categoryId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`text-sm ${s.stock<10?"text-red-600 font-medium":s.stock<20?"text-yellow-600":"text-gray-900"}`,children:[s.stock," units"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(C,{to:`/admin/products/${s.id}/edit`,className:"text-primary-600 hover:text-primary-900 mr-3",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O(s.id),className:"text-red-600 hover:text-red-900",children:e.jsx(U,{className:"w-4 h-4"})})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No products found"})})})})]})}),o>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:P+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(g,x.length)})," ","of ",e.jsx("span",{className:"font-medium",children:x.length})," products"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(Math.max(1,c-1)),disabled:c===1,className:`p-2 rounded-md ${c===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200"}`,children:e.jsx(W,{className:"w-5 h-5"})}),[...Array(o)].map((s,t)=>e.jsx("button",{onClick:()=>f(t+1),className:`w-8 h-8 rounded-md ${c===t+1?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-200"}`,children:t+1},t)),e.jsx("button",{onClick:()=>f(Math.min(o,c+1)),disabled:c===o,className:`p-2 rounded-md ${c===o?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200"}`,children:e.jsx(Z,{className:"w-5 h-5"})})]})]})]})]})]})};export{ee as default};
