import{c as C,q as I,o as W,b as k,r as l,j as e,m as S,L as r,H as P,h as E,p as L,d as i}from"./index-Cwv92vJa.js";import{T as u}from"./trash-2-CSbLzFh4.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=C("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),R=()=>{const{items:m,removeItem:p,clearWishlist:f}=I(),{addItem:y}=W(),{isAuthenticated:n}=k(),[o,j]=l.useState([]),[g,d]=l.useState(!0),[x,h]=l.useState(null);l.useEffect(()=>{document.title="Your Wishlist - TechWave",(async()=>{d(!0),h(null);const a=[];for(const c of m)try{const t=await fetch(`http://localhost:3000/api/laptops/${c}`);if(!t.ok)throw new Error(`Failed to fetch product ${c}: ${t.statusText}`);const w=await t.json();a.push(w)}catch(t){console.error(`Error fetching product ${c}:`,t),h("Failed to load some wishlist items.")}j(a),d(!1)})()},[m]);const v=s=>{if(!n){i.error("Please sign in to manage your wishlist");return}p(s),i.success("Item removed from wishlist")},N=s=>{y(s.id,1),i.success(`${s.name} added to cart`)},b=()=>{if(!n){i.error("Please sign in to manage your wishlist");return}f(),i.success("Wishlist cleared")};return e.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"pt-16 md:pt-20",children:[e.jsx("div",{className:"bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Your Wishlist"}),e.jsx("p",{className:"text-gray-600",children:"Save items you love and add them to cart later"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[!n&&e.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center text-primary-800",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Please sign in to manage your wishlist"})]}),e.jsx("p",{className:"text-primary-600 mt-1 mb-3",children:"Create an account or sign in to save your wishlist permanently and access it from any device."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(r,{to:"/login",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors",children:"Sign In"}),e.jsx(r,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-primary-600 text-primary-600 font-medium rounded-lg hover:bg-primary-50 transition-colors",children:"Create Account"})]})]}),g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):x?e.jsxs("div",{className:"text-center py-16 text-red-500",children:["Error: ",x]}):o.length===0?e.jsxs("div",{className:"text-center py-16 max-w-md mx-auto",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-6",children:e.jsx(P,{className:"w-8 h-8 text-gray-500"})}),e.jsx("h2",{className:"text-2xl font-medium mb-4",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Browse our products and add items you love to your wishlist."}),e.jsx(r,{to:"/products",className:"inline-flex items-center justify-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors",children:"Browse Products"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[e.jsxs("h2",{className:"font-medium",children:["Wishlist (",o.length," items)"]}),e.jsxs("button",{onClick:b,className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-1"}),"Clear Wishlist"]})]}),e.jsx("div",{children:o.map(s=>{const a=s.price;return e.jsxs("div",{className:"flex flex-col sm:flex-row items-start p-6 border-b last:border-b-0",children:[e.jsx("div",{className:"sm:w-24 sm:h-24 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden mb-4 sm:mb-0",children:e.jsx("img",{src:s.images[0],alt:s.name,className:"w-full h-full object-cover object-center"})}),e.jsxs("div",{className:"sm:ml-6 flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{to:`/products/${s.id}`,className:"text-lg font-medium hover:text-primary-600 transition-colors",children:s.name}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Category ID: ",s.categoryId]})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 text-right",children:e.jsx("div",{className:"font-bold",children:E(a)})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>N(s),className:"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Add to Cart"]}),e.jsxs("button",{onClick:()=>v(s.id),className:"text-sm text-red-600 hover:text-red-800 font-medium flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-1"}),"Remove"]})]}),e.jsx("div",{className:"mt-4 sm:mt-0 flex items-center text-sm text-gray-600",children:s.stock>0?e.jsx("span",{className:"text-green-600",children:"In Stock"}):e.jsx("span",{className:"text-red-600",children:"Out of Stock"})})]})]})]},s.id)})})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(r,{to:"/products",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Continue Shopping"})})]})]})]})};export{R as default};
